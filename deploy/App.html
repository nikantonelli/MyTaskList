<!DOCTYPE html>
<html>
<head>
    <title>MyTaskList</title>

    <script type="text/javascript" src="/apps/2.1/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("CustomApp",{extend:"Rally.app.App",componentCls:"app",launch:function(){var e=this,t=["task"];Ext.create("Rally.data.wsapi.TreeStoreBuilder").build({models:t,enableHierarchy:!0,remoteSort:!0,fetch:["FormattedID","Name","State","WorkProduct","TaskIndex","Owner"],sorters:[{property:"WorkProduct.DragAndDropRank",direction:"ASC"},{property:"TaskIndex",direction:" ASC"}]}).then({success:function(r){e._addGridboard(r,t)},scope:e})},_addGridboard:function(e,t){console.log(this.getContext().getScopedStateId("filters"+Ext.id())),this.add({height:"100%",xtype:"rallygridboard",gridConfig:{columnCfgs:["FormattedID","Name","State","Owner","WorkProduct"],store:e},plugins:[{ptype:"rallygridboardinlinefiltercontrol",inlineFilterButtonConfig:{stateful:!0,stateId:this.getContext().getScopedStateId("filters"+Ext.id()),modelNames:t,inlineFilterPanelConfig:{quickFilterPanelConfig:{whiteListFields:["Tags","Milestones"],defaultFields:["ArtifactSearch","Owner","Iteration"]}}}},{ptype:"rallygridboardfieldpicker",headerPosition:"left",modelNames:t}],cardBoardConfig:{attribute:"State"},toggleState:"grid",modelNames:t,context:this.getContext()})},_onSelect:function(){var e=this.down("rallygrid").getStore();e.clearFilter(!0),e.filter(this._getOwnerFilter())}});

            Rally.launchApp('CustomApp', {
                name:"MyTaskList",
                parentRepos:"",
                version:"0.1.1"
            });

        });
    </script>


    <style type="text/css">
        
    </style>
</head>
<body>
</body>
</html>
